<div class="chat-container">
  <div class="chat-header">
    <h2>LeoChat</h2>
    @if(btnvisible){
    <button class="modal-btn" (click)="toggleLiveDemo()"><img src="../../assets/image/access-svgrepo-com.svg"
        alt="SVG Image" (click)="toggleInputField()"></button>}
  </div>

  <div class="chat-history">
    @for (message of messages; track $index) {
    <div [ngClass]="{'user-message': message.sender === 'user', 'bot-message': message.sender === 'bot'}">
      <div>{{ message.text }} </div>
    </div>
    }
  </div>
  <div class="chat-input">
    <textarea [(ngModel)]="userInput" placeholder="Message LeoChat" (keydown.enter)="sendMessage()"
      [disabled]="isLoading"></textarea>
    <button (click)="sendMessage()" [disabled]="!userInput.trim() || isLoading"
      [ngStyle]="{'background-color': userInput.trim() ? 'rgb(23, 19, 19)' : 'rgb(199, 195, 195)'}">
      <div class="svg-circle">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-2xl">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z"
            fill="white"></path>
        </svg>
      </div>
    </button>
  </div>
</div>

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff">
  <div class="spinner-content">
    <div class="spinner-icon"></div>
    <p>Generating<span class="blinking-dots"><span>.</span><span>.</span><span>.</span></span></p>
  </div>
</ngx-spinner>

@if(visible){
<div id="liveDemoModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-heading">Welcome to Authentication</h5>
      <button (click)="toggleLiveDemo()" class="close-button">&times;</button>
    </div>
    <div class="modal-body">
      <img class="img-verfication" height="100px" src="../../assets/image/profile-authentication.png" alt="">
      <p>Please Verify Valid Key</p>
      <input (keydown.enter)="handleSubmit()" class="modal-input" type="text" [(ngModel)]="inputValue"
        placeholder="XXX XXXX XXX" [ngClass]="{'shake': inputError, 'error-border': inputError}">
    </div>
    <div class="modal-footer">
      <div></div>
      <button (click)="handleSubmit()" class="button-primary">Submit</button>
    </div>
  </div>
</div>
}


<!-- <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md-heavy">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z"
    fill="grey"></path>
</svg> -->
